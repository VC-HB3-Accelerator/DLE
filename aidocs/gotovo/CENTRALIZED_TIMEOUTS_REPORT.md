# ‚úÖ –û—Ç—á–µ—Ç –æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

**–î–∞—Ç–∞:** 2025-10-09  
**–ó–∞–¥–∞—á–∞:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è AI/Ollama/VectorSearch –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

---

## üéØ **–¶–ï–õ–¨**

–ò–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤, —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

---

## üì¶ **–¶–ï–ù–¢–†–ê–õ–ò–ó–û–í–ê–ù–ù–´–ô –°–ï–†–í–ò–°**

### `backend/services/ollamaConfig.js`

–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `getTimeouts()`:

```javascript
function getTimeouts() {
  return {
    // Ollama API
    ollamaChat: 120000,        // 120 —Å–µ–∫ (2 –º–∏–Ω) - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ LLM
    ollamaEmbedding: 60000,    // 60 —Å–µ–∫ (1 –º–∏–Ω) - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è embeddings
    ollamaHealth: 5000,        // 5 —Å–µ–∫ - health check
    ollamaTags: 10000,         // 10 —Å–µ–∫ - —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
    
    // Vector Search
    vectorSearch: 30000,       // 30 —Å–µ–∫ - –ø–æ–∏—Å–∫ –ø–æ –≤–µ–∫—Ç–æ—Ä–∞–º
    vectorUpsert: 60000,       // 60 —Å–µ–∫ - –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    vectorHealth: 5000,        // 5 —Å–µ–∫ - health check
    
    // Blockchain (–¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
    blockchainBalance: 3000,   // 3 —Å–µ–∫ - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
    blockchainNetwork: 10000,  // 10 —Å–µ–∫ - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏
    
    // Email/IMAP
    emailConnection: 30000,    // 30 —Å–µ–∫ - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø–æ—á—Ç–µ
    emailFetch: 60000,         // 60 —Å–µ–∫ - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∏—Å–µ–º
    
    // Default –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
    default: 120000            // 120 —Å–µ–∫
  };
}
```

**–≠–∫—Å–ø–æ—Ä—Ç:**
```javascript
module.exports = {
  getTimeouts,       // ‚ú® –ù–û–í–û–ï: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã
  getTimeout,        // –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ollamaChat)
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
};
```

---

## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –§–ê–ô–õ–´**

### 1. `backend/services/ollamaConfig.js` ‚≠ê
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** —Ñ—É–Ω–∫—Ü–∏—è `getTimeouts()`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç–∞–π–º–∞—É—Ç–æ–≤

### 2. `backend/services/vectorSearchClient.js` ‚úÖ
- **–î–æ:** `timeout: 30000` (–∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ)
- **–ü–æ—Å–ª–µ:** `timeout: TIMEOUTS.vectorSearch` / `TIMEOUTS.vectorUpsert` / `TIMEOUTS.vectorHealth`
- **–£–ª—É—á—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `ollamaConfig`, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã

### 3. `backend/services/ragService.js` ‚úÖ
- **–î–æ:** `timeout: ollamaConfig.getTimeout()` (—Ä–∞–±–æ—Ç–∞–ª–æ, –Ω–æ —Å—Ç–∞—Ä—ã–π API)
- **–ü–æ—Å–ª–µ:** `timeout: ollamaConfig.getTimeout()` (—Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π `getTimeouts().ollamaChat`)
- **–°—Ç–∞—Ç—É—Å:** –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

### 4. `backend/services/aiProviderSettingsService.js` ‚úÖ
- **–î–æ:** `timeout: 5000` (2 –º–µ—Å—Ç–∞, –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ)
- **–ü–æ—Å–ª–µ:** `timeout: ollamaConfig.getTimeouts().ollamaTags`
- **–£–ª—É—á—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω—ã –¥—É–±–ª–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç

### 5. `backend/routes/ollama.js` ‚úÖ
- **–î–æ:** 
  - `const axios = require('axios')` (–≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ —Ä–æ—É—Ç–∞)
  - `const ollamaConfig = require('../services/ollamaConfig')` (–≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ —Ä–æ—É—Ç–∞)
  - `timeout: 5000` (2 –º–µ—Å—Ç–∞, –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ)
- **–ü–æ—Å–ª–µ:**
  - –ò–º–ø–æ—Ä—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –Ω–∞–≤–µ—Ä—Ö —Ñ–∞–π–ª–∞
  - `timeout: timeouts.ollamaTags`
- **–£–ª—É—á—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω—ã –¥—É–±–ª–∏ –∏–º–ø–æ—Ä—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç

### 6. `backend/routes/monitoring.js` ‚úÖ
- **–î–æ:**
  - `const ollamaConfig = require('../services/ollamaConfig')` (–¥—É–±–ª—å –≤–Ω—É—Ç—Ä–∏ —Ä–æ—É—Ç–∞)
  - `timeout: 2000` (2 –º–µ—Å—Ç–∞, –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ)
- **–ü–æ—Å–ª–µ:**
  - –£–±—Ä–∞–Ω –¥—É–±–ª—å –∏–º–ø–æ—Ä—Ç–∞
  - `timeout: timeouts.vectorHealth` / `timeouts.ollamaHealth`
- **–£–ª—É—á—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω—ã –¥—É–±–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã

### 7. `backend/scripts/check-ollama-models.js` ‚úÖ
- **–î–æ:** `timeout: 5000` (–∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ)
- **–ü–æ—Å–ª–µ:** 
  - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `ollamaConfig`
  - `timeout: timeouts.ollamaTags`
- **–£–ª—É—á—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç

---

## üóëÔ∏è **–£–î–ê–õ–ï–ù–ù–´–ï –§–ê–ô–õ–´**

### ‚ùå `backend/services/notifyOllamaReady.js`
- **–ü—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ
- **–°—Ç–∞—Ç—É—Å:** –£–¥–∞–ª–µ–Ω
- **–û—á–∏—Å—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** –£–±—Ä–∞–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏–∑:
  - `aidocs/AI_FULL_INVENTORY.md`
  - `aidocs/AI_FILES_QUICK_REFERENCE.md`

---

## üìä **–ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê**

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: **7**
- ‚≠ê **1** - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å (ollamaConfig.js)
- ‚úÖ **6** - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫, —Ä–æ—É—Ç—ã, —Å–∫—Ä–∏–ø—Ç—ã)

### –£–¥–∞–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: **1**
- ‚ùå notifyOllamaReady.js (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è)

### –£–±—Ä–∞–Ω–æ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤: **9**
- vectorSearchClient.js: 3 –º–µ—Å—Ç–∞
- aiProviderSettingsService.js: 2 –º–µ—Å—Ç–∞
- routes/ollama.js: 2 –º–µ—Å—Ç–∞
- routes/monitoring.js: 2 –º–µ—Å—Ç–∞
- scripts/check-ollama-models.js: 1 –º–µ—Å—Ç–æ

### –£–±—Ä–∞–Ω–æ –¥—É–±–ª–µ–π –∏–º–ø–æ—Ä—Ç–æ–≤: **3**
- routes/ollama.js: 2 –¥—É–±–ª—è
- routes/monitoring.js: 1 –¥—É–±–ª—å

---

## üéØ **–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –¶–ï–ù–¢–†–ê–õ–ò–ó–ê–¶–ò–ò**

1. ‚úÖ **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - –≤—Å–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
2. ‚úÖ **–õ–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—Ç—å** - –º–µ–Ω—è–µ–º –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–µ–∑–¥–µ
3. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ** - –∫–∞–∂–¥—ã–π —Ç–∞–π–º–∞—É—Ç —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º
4. ‚úÖ **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–æ** - —Ä–∞–∑–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–π API `getTimeout()` —Ä–∞–±–æ—Ç–∞–µ—Ç
6. ‚úÖ **–ù–µ—Ç –¥—É–±–ª–µ–π** - –∏–º–ø–æ—Ä—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –Ω–∞–≤–µ—Ä—Ö —Ñ–∞–π–ª–æ–≤
7. ‚úÖ **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞** - —É–±—Ä–∞–Ω—ã "–º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞"

---

## üöÄ **–ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨**

### –î–ª—è –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:

```javascript
const ollamaConfig = require('./services/ollamaConfig');
const timeouts = ollamaConfig.getTimeouts();

// –î–ª—è Ollama API
await axios.post(url, data, { timeout: timeouts.ollamaChat });

// –î–ª—è Vector Search
await axios.post(url, data, { timeout: timeouts.vectorSearch });

// –î–ª—è Health Checks
await axios.get(url, { timeout: timeouts.ollamaHealth });
```

### –î–ª—è —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞ (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å):

```javascript
const ollamaConfig = require('./services/ollamaConfig');

// –°—Ç–∞—Ä—ã–π API - –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!
const timeout = ollamaConfig.getTimeout(); // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 120000
```

---

## üìã **–ü–†–û–í–ï–†–û–ß–ù–´–ô –ß–ï–ö–õ–ò–°–¢**

- [x] –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getTimeouts()` –≤ `ollamaConfig.js`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω `vectorSearchClient.js`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω `aiProviderSettingsService.js`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω `routes/ollama.js`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω `routes/monitoring.js`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω `scripts/check-ollama-models.js`
- [x] –£–±—Ä–∞–Ω—ã –¥—É–±–ª–∏ –∏–º–ø–æ—Ä—Ç–æ–≤
- [x] –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π `notifyOllamaReady.js`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ª–µ–¥–æ–≤ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

---

## ‚úÖ **–†–ï–ó–£–õ–¨–¢–ê–¢**

–í—Å–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è AI/Ollama/VectorSearch —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ `ollamaConfig.js`. 

–î—É–±–ª–∏ —É–¥–∞–ª–µ–Ω—ã. –ñ–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ.

–ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ, –ø—Ä–æ—â–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º.

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-09  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** AI Assistant  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö PRODUCTION

