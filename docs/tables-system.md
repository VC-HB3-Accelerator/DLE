# –°–∏—Å—Ç–µ–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –≤ DLE  

> **–í—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞**

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
3. [–¢–∏–ø—ã –ø–æ–ª–µ–π](#—Ç–∏–ø—ã-–ø–æ–ª–µ–π)
4. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
5. [–°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏](#—Å–≤—è–∑–∏-–º–µ–∂–¥—É-—Ç–∞–±–ª–∏—Ü–∞–º–∏)
6. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI (RAG)](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-ai-rag)
7. [API Reference](#api-reference)
8. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
9. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

---

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

### –ß—Ç–æ —ç—Ç–æ?

–°–∏—Å—Ç–µ–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –≤ DLE ‚Äî —ç—Ç–æ **–ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º**, –∞–Ω–∞–ª–æ–≥ **Notion Database** –∏–ª–∏ **Airtable**, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã DLE                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                         ‚îÇ
‚îÇ  ‚úÖ 6 —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π (text, number, relation, lookup, etc.)‚îÇ
‚îÇ  ‚úÖ –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ (1:1, 1:N, N:N)              ‚îÇ
‚îÇ  ‚úÖ Lookup –∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö                         ‚îÇ
‚îÇ  ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞                             ‚îÇ
‚îÇ  ‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (WebSocket)                    ‚îÇ
‚îÇ  ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI (RAG –¥–ª—è –ø–æ–∏—Å–∫–∞)                    ‚îÇ
‚îÇ  ‚úÖ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (AES-256)                    ‚îÇ
‚îÇ  ‚úÖ –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è API –¥–æ—Å—Ç—É–ø–∞                        ‚îÇ
‚îÇ  ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ                                  ‚îÇ
‚îÇ  ‚úÖ –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏                                   ‚îÇ
‚îÇ                                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –û—Ç–ª–∏—á–∏—è –æ—Ç Excel/Google Sheets

| –§—É–Ω–∫—Ü–∏—è | Excel/Sheets | DLE Tables |
|---------|--------------|------------|
| **–¢–∏–ø–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** | –°–ª–∞–±–∞—è | –°—Ç—Ä–æ–≥–∞—è (6 —Ç–∏–ø–æ–≤) |
| **–°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏** | –ù–µ—Ç | –î–∞ (relation, lookup) |
| **AI –ø–æ–∏—Å–∫** | –ù–µ—Ç | –î–∞ (RAG, –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫) |
| **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** | –ß–∞—Å—Ç–∏—á–Ω–∞—è | –ü–æ–ª–Ω–∞—è (WebSocket) |
| **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** | –ù–µ—Ç | AES-256 –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö |
| **API –¥–æ—Å—Ç—É–ø** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π | –ü–æ–ª–Ω—ã–π REST API |
| **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** | –ë–∞–∑–æ–≤—ã–µ | –î–µ—Ç–∞–ª—å–Ω—ã–µ (–ø–æ —Ä–æ–ª—è–º) |

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü (PostgreSQL)

```sql
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    user_tables                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id                    SERIAL PRIMARY KEY                 ‚îÇ
‚îÇ name_encrypted        TEXT NOT NULL                      ‚îÇ
‚îÇ description_encrypted TEXT                               ‚îÇ
‚îÇ is_rag_source_id      INTEGER (—Å—Å—ã–ª–∫–∞ –Ω–∞ is_rag_source) ‚îÇ
‚îÇ created_at            TIMESTAMP                          ‚îÇ
‚îÇ updated_at            TIMESTAMP                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    user_columns                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id                    SERIAL PRIMARY KEY                 ‚îÇ
‚îÇ table_id              INTEGER ‚Üí user_tables(id)          ‚îÇ
‚îÇ name_encrypted        TEXT NOT NULL                      ‚îÇ
‚îÇ type_encrypted        TEXT NOT NULL                      ‚îÇ
‚îÇ placeholder_encrypted TEXT (–¥–ª—è API)                     ‚îÇ
‚îÇ placeholder           TEXT (–Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π)             ‚îÇ
‚îÇ options               JSONB (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)                  ‚îÇ
‚îÇ order                 INTEGER (–ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)      ‚îÇ
‚îÇ created_at            TIMESTAMP                          ‚îÇ
‚îÇ updated_at            TIMESTAMP                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     user_rows                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id                    SERIAL PRIMARY KEY                 ‚îÇ
‚îÇ table_id              INTEGER ‚Üí user_tables(id)          ‚îÇ
‚îÇ order                 INTEGER (–ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫)            ‚îÇ
‚îÇ created_at            TIMESTAMP                          ‚îÇ
‚îÇ updated_at            TIMESTAMP                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  user_cell_values                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id                    SERIAL PRIMARY KEY                 ‚îÇ
‚îÇ row_id                INTEGER ‚Üí user_rows(id)            ‚îÇ
‚îÇ column_id             INTEGER ‚Üí user_columns(id)         ‚îÇ
‚îÇ value_encrypted       TEXT (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)      ‚îÇ
‚îÇ created_at            TIMESTAMP                          ‚îÇ
‚îÇ updated_at            TIMESTAMP                          ‚îÇ
‚îÇ UNIQUE(row_id, column_id)  ‚Üê –û–¥–Ω–∞ —è—á–µ–π–∫–∞ = –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ               user_table_relations                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id                    SERIAL PRIMARY KEY                 ‚îÇ
‚îÇ from_row_id           INTEGER ‚Üí user_rows(id)            ‚îÇ
‚îÇ column_id             INTEGER ‚Üí user_columns(id)         ‚îÇ
‚îÇ to_table_id           INTEGER ‚Üí user_tables(id)          ‚îÇ
‚îÇ to_row_id             INTEGER ‚Üí user_rows(id)            ‚îÇ
‚îÇ created_at            TIMESTAMP                          ‚îÇ
‚îÇ updated_at            TIMESTAMP                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

```
–£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã (user_tables)
  ‚Üì
  ‚îú‚îÄ‚îÄ –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å—Ç–æ–ª–±—Ü—ã (user_columns)
  ‚îú‚îÄ‚îÄ –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ (user_rows)
  ‚îÇ   ‚îî‚îÄ‚îÄ –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —è—á–µ–µ–∫ (user_cell_values)
  ‚îî‚îÄ‚îÄ –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å–≤—è–∑–∏ (user_table_relations)
```

**–í–∞–∂–Ω–æ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ON DELETE CASCADE` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏.

### –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```sql
-- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ —Å–≤—è–∑—è—Ö (user_table_relations)
CREATE INDEX idx_user_table_relations_from_row ON user_table_relations(from_row_id);
CREATE INDEX idx_user_table_relations_column ON user_table_relations(column_id);
CREATE INDEX idx_user_table_relations_to_table ON user_table_relations(to_table_id);
CREATE INDEX idx_user_table_relations_to_row ON user_table_relations(to_row_id);
```

**–≠—Ñ—Ñ–µ–∫—Ç**: –ë—ã—Å—Ç—Ä–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –ø–æ —Å–≤—è–∑–∞–Ω–Ω—ã–º —Ç–∞–±–ª–∏—Ü–∞–º.

---

## –¢–∏–ø—ã –ø–æ–ª–µ–π

### 1. Text (–¢–µ–∫—Å—Ç)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±—ã—á–Ω–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ

```json
{
  "type": "text",
  "options": null
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- –ò–º–µ–Ω–∞
- –û–ø–∏—Å–∞–Ω–∏—è
- Email
- URL
- –õ—é–±–æ–π —Ç–µ–∫—Å—Ç

### 2. Number (–ß–∏—Å–ª–æ)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ß–∏—Å–ª–æ–≤–æ–µ –ø–æ–ª–µ

```json
{
  "type": "number",
  "options": null
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- –¶–µ–Ω—ã
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
- –†–µ–π—Ç–∏–Ω–≥–∏
- –ü—Ä–æ—Ü–µ–Ω—Ç—ã

### 3. Multiselect (–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –í—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ —Å–ø–∏—Å–∫–∞

```json
{
  "type": "multiselect",
  "options": {
    "choices": ["–í–∞—Ä–∏–∞–Ω—Ç 1", "–í–∞—Ä–∏–∞–Ω—Ç 2", "–í–∞—Ä–∏–∞–Ω—Ç 3"]
  }
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- –¢–µ–≥–∏
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- –°—Ç–∞—Ç—É—Å—ã
- –ù–∞–≤—ã–∫–∏

### 4. Multiselect-Relation (–ú—É–ª—å—Ç–∏–≤—ã–±–æ—Ä –∏–∑ —Ç–∞–±–ª–∏—Ü—ã)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ç—Ä–æ–∫ –∏–∑ –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü—ã

```json
{
  "type": "multiselect-relation",
  "options": {
    "relatedTableId": 5,
    "relatedColumnId": 12
  }
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- –°–≤—è–∑—å –ö–æ–Ω—Ç–∞–∫—Ç–æ–≤ ‚Üí –¢–µ–≥–∏ (N:N)
- –°–≤—è–∑—å –ó–∞–¥–∞—á ‚Üí –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ (N:N)
- –°–≤—è–∑—å –ü—Ä–æ–¥—É–∫—Ç–æ–≤ ‚Üí –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (N:N)

**–•—Ä–∞–Ω–µ–Ω–∏–µ**: –í —Ç–∞–±–ª–∏—Ü–µ `user_table_relations` —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π:
```
from_row_id=100, column_id=3, to_table_id=5, to_row_id=20
from_row_id=100, column_id=3, to_table_id=5, to_row_id=21
from_row_id=100, column_id=3, to_table_id=5, to_row_id=22
```

### 5. Relation (–°–≤—è–∑—å)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–≤—è–∑—å —Å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π –∏–∑ –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü—ã (1:1 –∏–ª–∏ 1:N)

```json
{
  "type": "relation",
  "options": {
    "relatedTableId": 3,
    "relatedColumnId": 8
  }
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- –ó–∞–¥–∞—á–∞ ‚Üí –ü—Ä–æ–µ–∫—Ç (N:1)
- –ö–æ–Ω—Ç–∞–∫—Ç ‚Üí –ö–æ–º–ø–∞–Ω–∏—è (N:1)
- –ó–∞–∫–∞–∑ ‚Üí –ö–ª–∏–µ–Ω—Ç (N:1)

**–•—Ä–∞–Ω–µ–Ω–∏–µ**: –í `user_table_relations` —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å:
```
from_row_id=50, column_id=2, to_table_id=3, to_row_id=15
```

### 6. Lookup (–ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å–≤—è–∑–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã

```json
{
  "type": "lookup",
  "options": {
    "relatedTableId": 4,
    "relatedColumnId": 10,
    "lookupColumnId": 11  // –ö–∞–∫–æ–µ –ø–æ–ª–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å
  }
}
```

**–ü—Ä–∏–º–µ—Ä**:
```
–¢–∞–±–ª–∏—Ü–∞ "–ó–∞–∫–∞–∑—ã"
‚îú‚îÄ‚îÄ order_id (text)
‚îú‚îÄ‚îÄ product (relation ‚Üí –ü—Ä–æ–¥—É–∫—Ç—ã)
‚îî‚îÄ‚îÄ product_price (lookup ‚Üí –ü—Ä–æ–¥—É–∫—Ç—ã.price)

–ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–µ—à—å product, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω–∞!
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- –¶–µ–Ω—ã –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
- Email –∏–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- –°—Ç–∞—Ç—É—Å—ã –∏–∑ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã

```javascript
// Frontend
await tablesService.createTable({
  name: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
  description: "–ë–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤",
  isRagSourceId: 2  // –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è AI
});

// Backend: POST /tables
// –®–∏—Ñ—Ä—É–µ—Ç name –∏ description —Å AES-256
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–∞

```javascript
await tablesService.addColumn(tableId, {
  name: "Email",
  type: "text",
  order: 2,
  purpose: "contact"  // –î–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
});

// Backend: POST /tables/:id/columns
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π placeholder: "email", "email_1", ...
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏

```javascript
await tablesService.addRow(tableId);

// Backend: POST /tables/:id/rows
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –≤ vector store –¥–ª—è AI
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —è—á–µ–π–∫–∏ (Upsert)

```javascript
await tablesService.saveCell({
  row_id: 123,
  column_id: 5,
  value: "new@email.com"
});

// Backend: POST /tables/cell
// INSERT ... ON CONFLICT ... DO UPDATE
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç vector store
```

#### –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏

```javascript
await tablesService.deleteRow(rowId);

// Backend: DELETE /tables/row/:rowId
// –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç vector store (rebuild)
```

#### –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–∞

```javascript
await tablesService.deleteColumn(columnId);

// Backend: DELETE /tables/column/:columnId
// –ö–∞—Å–∫–∞–¥–Ω–æ —É–¥–∞–ª—è–µ—Ç:
// 1. –í—Å–µ —Å–≤—è–∑–∏ (user_table_relations)
// 2. –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —è—á–µ–µ–∫ (user_cell_values)
// 3. –°–∞–º —Å—Ç–æ–ª–±–µ—Ü
```

#### –£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã

```javascript
await tablesService.deleteTable(tableId);

// Backend: DELETE /tables/:id
// –¢—Ä–µ–±—É–µ—Ç—Å—è: req.session.userAccessLevel?.hasAccess
// –ö–∞—Å–∫–∞–¥–Ω–æ —É–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

#### –ü–æ –ø—Ä–æ–¥—É–∫—Ç—É

```javascript
GET /tables/5/rows?product=Premium

// Backend —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏:
filtered = rows.filter(r => r.product === 'Premium');
```

#### –ü–æ —Ç–µ–≥–∞–º

```javascript
GET /tables/5/rows?tags=VIP,B2B

// Backend —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ —Å –ª—é–±—ã–º –∏–∑ —Ç–µ–≥–æ–≤:
filtered = rows.filter(r => 
  r.userTags.includes('VIP') || r.userTags.includes('B2B')
);
```

#### –ü–æ —Å–≤—è–∑—è–º (Relation)

```javascript
GET /tables/5/rows?relation_12=45,46

// –§–∏–ª—å—Ç—Ä —Å—Ç—Ä–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å to_row_id = 45 –∏–ª–∏ 46
// —á–µ—Ä–µ–∑ —Å—Ç–æ–ª–±–µ—Ü column_id = 12
```

#### –ü–æ –º—É–ª—å—Ç–∏–≤—ã–±–æ—Ä—É (Multiselect)

```javascript
GET /tables/5/rows?multiselect_8=10,11,12

// –í—Å–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å
```

### 3. Placeholder —Å–∏—Å—Ç–µ–º–∞

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**:

```javascript
// –§—É–Ω–∫—Ü–∏—è: generatePlaceholder(name, existingPlaceholders)

"–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞"     ‚Üí "imya_klienta"
"Email"           ‚Üí "email"
"Email" (2-–π —Ä–∞–∑) ‚Üí "email_1"
"123"             ‚Üí "column"  (fallback)
"–¶–µ–Ω–∞-$"          ‚Üí "tsena"
```

**–¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è**:
```javascript
const cyrillicToLatinMap = {
  –∞: 'a', –±: 'b', –≤: 'v', –≥: 'g', –¥: 'd',
  –µ: 'e', —ë: 'e', –∂: 'zh', –∑: 'z', –∏: 'i',
  // ... –ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞
};
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```javascript
// API –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ placeholder
GET /tables/5/data?fields=email,phone,imya_klienta
```

### 4. –ü–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫ (Order)

```javascript
// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ —Å—Ç—Ä–æ–∫ (drag-n-drop)
await tablesService.updateRowsOrder(tableId, [
  { rowId: 100, order: 0 },
  { rowId: 101, order: 1 },
  { rowId: 102, order: 2 }
]);

// Backend: PATCH /tables/:id/rows/order
// –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ "order" –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏
```

### 5. Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (WebSocket)

```javascript
// Backend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
broadcastTableUpdate(tableId);           // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
broadcastTableRelationsUpdate();         // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π
broadcastTagsUpdate(null, rowId);        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–æ–≤

// Frontend –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è
socket.on('table-update', (data) => {
  if (data.tableId === currentTableId) {
    reloadTableData();
  }
});
```

### 6. –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```javascript
// –í—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–æ–∫ (checkbox)
const selectedRows = [100, 101, 102];

// –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
for (const rowId of selectedRows) {
  await tablesService.deleteRow(rowId);
}

// –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rebuild vector store
```

---

## –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

### –¢–∏–ø—ã —Å–≤—è–∑–µ–π

#### 1. One-to-Many (N:1) - Relation

**–ü—Ä–∏–º–µ—Ä**: –ó–∞–¥–∞—á–∏ ‚Üí –ü—Ä–æ–µ–∫—Ç—ã

```
–¢–∞–±–ª–∏—Ü–∞ "–ó–∞–¥–∞—á–∏"                 –¢–∞–±–ª–∏—Ü–∞ "–ü—Ä–æ–µ–∫—Ç—ã"
‚îú‚îÄ‚îÄ task_1 ‚Üí project_id=5        ‚îú‚îÄ‚îÄ project_5 (–°–∞–π—Ç)
‚îú‚îÄ‚îÄ task_2 ‚Üí project_id=5        ‚îî‚îÄ‚îÄ project_6 (API)
‚îî‚îÄ‚îÄ task_3 ‚Üí project_id=6
```

**–•—Ä–∞–Ω–µ–Ω–∏–µ**:
```sql
user_table_relations
‚îú‚îÄ‚îÄ from_row_id=task_1, column_id=3, to_table_id=2, to_row_id=project_5
‚îú‚îÄ‚îÄ from_row_id=task_2, column_id=3, to_table_id=2, to_row_id=project_5
‚îî‚îÄ‚îÄ from_row_id=task_3, column_id=3, to_table_id=2, to_row_id=project_6
```

#### 2. Many-to-Many (N:N) - Multiselect-Relation

**–ü—Ä–∏–º–µ—Ä**: –ö–æ–Ω—Ç–∞–∫—Ç—ã ‚Üí –¢–µ–≥–∏

```
–¢–∞–±–ª–∏—Ü–∞ "–ö–æ–Ω—Ç–∞–∫—Ç—ã"              –¢–∞–±–ª–∏—Ü–∞ "–¢–µ–≥–∏"
‚îú‚îÄ‚îÄ contact_1 ‚Üí [VIP, B2B]      ‚îú‚îÄ‚îÄ tag_1 (VIP)
‚îú‚îÄ‚îÄ contact_2 ‚Üí [VIP]           ‚îú‚îÄ‚îÄ tag_2 (B2B)
‚îî‚îÄ‚îÄ contact_3 ‚Üí [B2B, Local]    ‚îî‚îÄ‚îÄ tag_3 (Local)
```

**–•—Ä–∞–Ω–µ–Ω–∏–µ**:
```sql
user_table_relations
‚îú‚îÄ‚îÄ from_row_id=contact_1, column_id=5, to_table_id=3, to_row_id=tag_1
‚îú‚îÄ‚îÄ from_row_id=contact_1, column_id=5, to_table_id=3, to_row_id=tag_2
‚îú‚îÄ‚îÄ from_row_id=contact_2, column_id=5, to_table_id=3, to_row_id=tag_1
‚îú‚îÄ‚îÄ from_row_id=contact_3, column_id=5, to_table_id=3, to_row_id=tag_2
‚îî‚îÄ‚îÄ from_row_id=contact_3, column_id=5, to_table_id=3, to_row_id=tag_3
```

#### 3. Lookup (–ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞)

**–ü—Ä–∏–º–µ—Ä**: –ó–∞–∫–∞–∑—ã ‚Üí –¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞

```
–¢–∞–±–ª–∏—Ü–∞ "–ó–∞–∫–∞–∑—ã"
‚îú‚îÄ‚îÄ order_id (text)
‚îú‚îÄ‚îÄ product (relation ‚Üí –¢–æ–≤–∞—Ä—ã)
‚îî‚îÄ‚îÄ price (lookup ‚Üí –¢–æ–≤–∞—Ä—ã.price)

–¢–∞–±–ª–∏—Ü–∞ "–¢–æ–≤–∞—Ä—ã"
‚îú‚îÄ‚îÄ product_name (text)
‚îî‚îÄ‚îÄ price (number)
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
1. –í—ã–±–∏—Ä–∞–µ—Ç–µ `product = "–ù–æ—É—Ç–±—É–∫"` (—Å–≤—è–∑—å —Å —Ç–æ–≤–∞—Ä–æ–º)
2. `price` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∏–∑ `–¢–æ–≤–∞—Ä—ã.price`
3. –ï—Å–ª–∏ —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è, lookup –æ–±–Ω–æ–≤–∏—Ç—Å—è

### API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–≤—è–∑—è–º–∏

```javascript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–≤—è–∑–∏ —Å—Ç—Ä–æ–∫–∏
GET /tables/:tableId/row/:rowId/relations

// –î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å
POST /tables/:tableId/row/:rowId/relations
Body: {
  column_id: 12,
  to_table_id: 5,
  to_row_id: 45
}

// –î–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–≤—è–∑–µ–π (multiselect)
POST /tables/:tableId/row/:rowId/relations
Body: {
  column_id: 12,
  to_table_id: 5,
  to_row_ids: [45, 46, 47]
}

// –£–¥–∞–ª–∏—Ç—å —Å–≤—è–∑—å
DELETE /tables/:tableId/row/:rowId/relations/:relationId
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI (RAG)

### –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫

–¢–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ **–±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –¥–ª—è AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞**.

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

**–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏**:

```javascript
// Backend: POST /tables/:id/rows
const rows = await getTableRows(tableId);
const upsertRows = rows
  .filter(r => r.row_id && r.text)
  .map(r => ({
    row_id: r.row_id,
    text: r.text,              // –í–æ–ø—Ä–æ—Å (question column)
    metadata: { 
      answer: r.answer,         // –û—Ç–≤–µ—Ç (answer column)
      product: r.product,       // –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–¥—É–∫—Ç—É
      userTags: r.userTags,     // –§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥–∞–º
      priority: r.priority      // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
    }
  }));

if (upsertRows.length > 0) {
  await vectorSearchClient.upsert(tableId, upsertRows);
}
```

**–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏**:

```javascript
// Backend: DELETE /tables/row/:rowId
const rows = await getTableRows(tableId);
const rebuildRows = /* ... */;

if (rebuildRows.length > 0) {
  await vectorSearchClient.rebuild(tableId, rebuildRows);
}
```

#### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è RAG

```javascript
// –°—Ç–æ–ª–±—Ü—ã —Å purpose
{
  "type": "text",
  "options": {
    "purpose": "question"  // –í–æ–ø—Ä–æ—Å –¥–ª—è AI
  }
}

{
  "type": "text",
  "options": {
    "purpose": "answer"  // –û—Ç–≤–µ—Ç AI
  }
}

{
  "type": "multiselect",
  "options": {
    "purpose": "product"  // –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–¥—É–∫—Ç—É
  }
}

{
  "type": "multiselect",
  "options": {
    "purpose": "userTags"  // –§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥–∞–º
  }
}
```

#### –†—É—á–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞

```javascript
// Frontend (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
await tablesService.rebuildIndex(tableId);

// Backend: POST /tables/:id/rebuild-index
// –¢—Ä–µ–±—É–µ—Ç—Å—è: req.session.userAccessLevel?.hasAccess
const { questionCol, answerCol } = await getQuestionAnswerColumnIds(tableId);
const rows = await getRowsWithQA(tableId, questionCol, answerCol);

if (rows.length > 0) {
  await vectorSearchClient.rebuild(tableId, rows);
}
```

#### –ö–∞–∫ AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—ã

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞–µ—Ç –≤–æ–ø—Ä–æ—Å AI:
   "–ö–∞–∫ –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–≤–∞—Ä?"

2. AI –¥–µ–ª–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫:
   vectorSearch.search(tableId, query, top_k=3)

3. –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ –≤–æ–ø—Ä–æ—Å—ã –≤ —Ç–∞–±–ª–∏—Ü–µ:
   - row_id: 123
   - text: "–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–∞?"
   - score: -250 (–±–ª–∏–∑–∫–æ –∫ –ø–æ—Ä–æ–≥—É 300)
   - metadata: { answer: "–í–æ–∑–≤—Ä–∞—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π..." }

4. AI –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏–∑ metadata.answer

5. –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–µ–ª (score > 300):
   AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ LLM (Ollama)
```

#### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º –∏ —Ç–µ–≥–∞–º

```javascript
// –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø–æ –ø—Ä–æ–¥—É–∫—Ç—É "Premium"
const results = await vectorSearch.search(tableId, query, 3);
const filtered = results.filter(r => r.metadata.product === 'Premium');

// –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø–æ —Ç–µ–≥–∞–º "VIP" –∏–ª–∏ "B2B"
const filtered = results.filter(r => 
  r.metadata.userTags.includes('VIP') || 
  r.metadata.userTags.includes('B2B')
);
```

---

## API Reference

### –¢–∞–±–ª–∏—Ü—ã

#### GET /tables

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü

**–û—Ç–≤–µ—Ç**:
```json
[
  {
    "id": 1,
    "name": "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
    "description": "–ë–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤",
    "is_rag_source_id": 2,
    "created_at": "2025-01-15T10:00:00Z",
    "updated_at": "2025-01-15T10:00:00Z"
  }
]
```

#### POST /tables

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É

**–ó–∞–ø—Ä–æ—Å**:
```json
{
  "name": "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
  "description": "–ë–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤",
  "isRagSourceId": 2
}
```

**–û—Ç–≤–µ—Ç**: –û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã

#### GET /tables/:id

–ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

**–û—Ç–≤–µ—Ç**:
```json
{
  "name": "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
  "description": "–ë–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤",
  "columns": [
    {
      "id": 1,
      "table_id": 1,
      "name": "Email",
      "type": "text",
      "placeholder": "email",
      "options": null,
      "order": 0
    }
  ],
  "rows": [
    {
      "id": 100,
      "table_id": 1,
      "order": 0,
      "created_at": "2025-01-15T10:00:00Z"
    }
  ],
  "cellValues": [
    {
      "id": 500,
      "row_id": 100,
      "column_id": 1,
      "value": "user@example.com"
    }
  ]
}
```

#### PATCH /tables/:id

–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

**–ó–∞–ø—Ä–æ—Å**:
```json
{
  "name": "–ö–ª–∏–µ–Ω—Ç—ã",
  "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ"
}
```

#### DELETE /tables/:id

–£–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: `req.session.userAccessLevel?.hasAccess === true`

### –°—Ç–æ–ª–±—Ü—ã

#### POST /tables/:id/columns

–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–æ–ª–±–µ—Ü

**–ó–∞–ø—Ä–æ—Å**:
```json
{
  "name": "Email",
  "type": "text",
  "order": 2,
  "purpose": "contact"
}
```

#### PATCH /tables/column/:columnId

–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–æ–ª–±–µ—Ü

**–ó–∞–ø—Ä–æ—Å**:
```json
{
  "name": "–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "type": "text",
  "order": 5
}
```

#### DELETE /tables/column/:columnId

–£–¥–∞–ª–∏—Ç—å —Å—Ç–æ–ª–±–µ—Ü (–∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π)

### –°—Ç—Ä–æ–∫–∏

#### POST /tables/:id/rows

–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É

**–û—Ç–≤–µ—Ç**: –û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

#### DELETE /tables/row/:rowId

–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É

#### PATCH /tables/:id/rows/order

–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫

**–ó–∞–ø—Ä–æ—Å**:
```json
{
  "order": [
    { "rowId": 100, "order": 0 },
    { "rowId": 101, "order": 1 }
  ]
}
```

### –Ø—á–µ–π–∫–∏

#### POST /tables/cell

–°–æ–∑–¥–∞—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —è—á–µ–π–∫–∏ (upsert)

**–ó–∞–ø—Ä–æ—Å**:
```json
{
  "row_id": 100,
  "column_id": 5,
  "value": "new@email.com"
}
```

**–õ–æ–≥–∏–∫–∞**:
```sql
INSERT INTO user_cell_values (row_id, column_id, value_encrypted) 
VALUES ($1, $2, encrypt_text($3, $4))
ON CONFLICT (row_id, column_id) 
DO UPDATE SET value_encrypted = encrypt_text($3, $4), updated_at = NOW()
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è

#### GET /tables/:id/rows

–ü–æ–ª—É—á–∏—Ç—å –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
```
?product=Premium               // –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–¥—É–∫—Ç—É
&tags=VIP,B2B                  // –§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥–∞–º
&relation_12=45,46             // –§–∏–ª—å—Ç—Ä –ø–æ —Å–≤—è–∑–∏ (column_id=12)
&multiselect_8=10,11           // –§–∏–ª—å—Ç—Ä –ø–æ –º—É–ª—å—Ç–∏–≤—ã–±–æ—Ä—É (column_id=8)
&lookup_15=100                 // –§–∏–ª—å—Ç—Ä –ø–æ lookup (column_id=15)
```

### RAG –∏–Ω–¥–µ–∫—Å

#### POST /tables/:id/rebuild-index

–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: `req.session.userAccessLevel?.hasAccess === true`

**–û—Ç–≤–µ—Ç**:
```json
{
  "success": true,
  "count": 150
}
```

### –°–≤—è–∑–∏

#### GET /tables/:tableId/row/:rowId/relations

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–≤—è–∑–∏ —Å—Ç—Ä–æ–∫–∏

**–û—Ç–≤–µ—Ç**:
```json
[
  {
    "id": 1000,
    "from_row_id": 100,
    "column_id": 12,
    "to_table_id": 5,
    "to_row_id": 45
  }
]
```

#### POST /tables/:tableId/row/:rowId/relations

–î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å –∏–ª–∏ —Å–≤—è–∑–∏

**–û–¥–Ω–∞ —Å–≤—è–∑—å**:
```json
{
  "column_id": 12,
  "to_table_id": 5,
  "to_row_id": 45
}
```

**–ù–µ—Å–∫–æ–ª—å–∫–æ —Å–≤—è–∑–µ–π** (multiselect):
```json
{
  "column_id": 12,
  "to_table_id": 5,
  "to_row_ids": [45, 46, 47]
}
```

**–õ–æ–≥–∏–∫–∞**:
- –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —Å–≤—è–∑–∏ –¥–ª—è column_id
- –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ —Å–≤—è–∑–∏

#### DELETE /tables/:tableId/row/:rowId/relations/:relationId

–£–¥–∞–ª–∏—Ç—å —Å–≤—è–∑—å

### –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã

#### GET /tables/:id/placeholders

–ü–æ–ª—É—á–∏—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è —Å—Ç–æ–ª–±—Ü–æ–≤ —Ç–∞–±–ª–∏—Ü—ã

**–û—Ç–≤–µ—Ç**:
```json
[
  {
    "id": 1,
    "name": "Email",
    "placeholder": "email"
  },
  {
    "id": 2,
    "name": "–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞",
    "placeholder": "imya_klienta"
  }
]
```

#### GET /tables/placeholders/all

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –ø–æ –≤—Å–µ–º —Ç–∞–±–ª–∏—Ü–∞–º

**–û—Ç–≤–µ—Ç**:
```json
[
  {
    "column_id": 1,
    "column_name": "Email",
    "placeholder": "email",
    "table_id": 1,
    "table_name": "–ö–æ–Ω—Ç–∞–∫—Ç—ã"
  }
]
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π FAQ –¥–ª—è AI

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã

```javascript
const table = await tablesService.createTable({
  name: "FAQ",
  description: "–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è AI",
  isRagSourceId: 2  // RAG –∏—Å—Ç–æ—á–Ω–∏–∫
});
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–æ–≤

```javascript
// –í–æ–ø—Ä–æ—Å (–¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞)
await tablesService.addColumn(table.id, {
  name: "–í–æ–ø—Ä–æ—Å",
  type: "text",
  order: 0,
  purpose: "question"
});

// –û—Ç–≤–µ—Ç (–¥–ª—è AI)
await tablesService.addColumn(table.id, {
  name: "–û—Ç–≤–µ—Ç",
  type: "text",
  order: 1,
  purpose: "answer"
});

// –ü—Ä–æ–¥—É–∫—Ç (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
await tablesService.addColumn(table.id, {
  name: "–ü—Ä–æ–¥—É–∫—Ç",
  type: "multiselect",
  order: 2,
  purpose: "product",
  options: {
    choices: ["–ë–∞–∑–æ–≤—ã–π", "–ü—Ä–µ–º–∏—É–º", "–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π"]
  }
});

// –¢–µ–≥–∏ (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
await tablesService.addColumn(table.id, {
  name: "–¢–µ–≥–∏",
  type: "multiselect",
  order: 3,
  purpose: "userTags",
  options: {
    choices: ["–û–ø–ª–∞—Ç–∞", "–î–æ—Å—Ç–∞–≤–∫–∞", "–í–æ–∑–≤—Ä–∞—Ç", "–ì–∞—Ä–∞–Ω—Ç–∏—è"]
  }
});
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```javascript
// –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É
const row = await tablesService.addRow(table.id);

// –ó–∞–ø–æ–ª–Ω—è–µ–º —è—á–µ–π–∫–∏
await tablesService.saveCell({
  row_id: row.id,
  column_id: 1,  // –í–æ–ø—Ä–æ—Å
  value: "–ö–∞–∫ –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–≤–∞—Ä?"
});

await tablesService.saveCell({
  row_id: row.id,
  column_id: 2,  // –û—Ç–≤–µ—Ç
  value: "–í–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–∞ –≤–æ–∑–º–æ–∂–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ–∫—É–ø–∫–∏..."
});

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ vector store!
```

#### –ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ AI

```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç AI
const userQuestion = "–º–æ–∂–Ω–æ –ª–∏ –≤–µ—Ä–Ω—É—Ç—å –ø–æ–∫—É–ø–∫—É?";

// AI –¥–µ–ª–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
const results = await vectorSearch.search(table.id, userQuestion, 3);

// –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–π –≤–æ–ø—Ä–æ—Å "–ö–∞–∫ –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–≤–∞—Ä?" (score: -200)
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏–∑ metadata.answer
```

### –ü—Ä–∏–º–µ—Ä 2: CRM —Å–∏—Å—Ç–µ–º–∞

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```javascript
// –¢–∞–±–ª–∏—Ü–∞ "–ö–æ–º–ø–∞–Ω–∏–∏"
const companies = await tablesService.createTable({
  name: "–ö–æ–º–ø–∞–Ω–∏–∏",
  description: "–ë–∞–∑–∞ –∫–æ–º–ø–∞–Ω–∏–π"
});

await tablesService.addColumn(companies.id, {
  name: "–ù–∞–∑–≤–∞–Ω–∏–µ",
  type: "text",
  order: 0
});

await tablesService.addColumn(companies.id, {
  name: "–°–∞–π—Ç",
  type: "text",
  order: 1
});

await tablesService.addColumn(companies.id, {
  name: "–û—Ç—Ä–∞—Å–ª—å",
  type: "multiselect",
  order: 2,
  options: { choices: ["IT", "–§–∏–Ω–∞–Ω—Å—ã", "–†–∏—Ç–µ–π–ª", "–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ"] }
});

// –¢–∞–±–ª–∏—Ü–∞ "–ö–æ–Ω—Ç–∞–∫—Ç—ã"
const contacts = await tablesService.createTable({
  name: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
  description: "–ë–∞–∑–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤"
});

await tablesService.addColumn(contacts.id, {
  name: "–ò–º—è",
  type: "text",
  order: 0
});

await tablesService.addColumn(contacts.id, {
  name: "Email",
  type: "text",
  order: 1
});

// –°–≤—è–∑—å: –ö–æ–Ω—Ç–∞–∫—Ç ‚Üí –ö–æ–º–ø–∞–Ω–∏—è
await tablesService.addColumn(contacts.id, {
  name: "–ö–æ–º–ø–∞–Ω–∏—è",
  type: "relation",
  order: 2,
  options: {
    relatedTableId: companies.id,
    relatedColumnId: 1  // –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
  }
});

// Lookup: –°–∞–π—Ç –∫–æ–º–ø–∞–Ω–∏–∏
await tablesService.addColumn(contacts.id, {
  name: "–°–∞–π—Ç –∫–æ–º–ø–∞–Ω–∏–∏",
  type: "lookup",
  order: 3,
  options: {
    relatedTableId: companies.id,
    relatedColumnId: 2,  // –°–≤—è–∑—å —á–µ—Ä–µ–∑ "–ö–æ–º–ø–∞–Ω–∏—è"
    lookupColumnId: 2    // –ü–æ–¥—Å—Ç–∞–≤–∏—Ç—å "–°–∞–π—Ç"
  }
});
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```javascript
// –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–ø–∞–Ω–∏—é
const company = await tablesService.addRow(companies.id);
await tablesService.saveCell({
  row_id: company.id,
  column_id: 1,
  value: "Microsoft"
});
await tablesService.saveCell({
  row_id: company.id,
  column_id: 2,
  value: "https://microsoft.com"
});

// –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–∞–∫—Ç
const contact = await tablesService.addRow(contacts.id);
await tablesService.saveCell({
  row_id: contact.id,
  column_id: 1,
  value: "John Doe"
});

// –°–≤—è–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–∞–∫—Ç —Å –∫–æ–º–ø–∞–Ω–∏–µ–π
await api.post(`/tables/${contacts.id}/row/${contact.id}/relations`, {
  column_id: 3,  // "–ö–æ–º–ø–∞–Ω–∏—è"
  to_table_id: companies.id,
  to_row_id: company.id
});

// Lookup –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç "https://microsoft.com"!
```

### –ü—Ä–∏–º–µ—Ä 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```javascript
// –¢–∞–±–ª–∏—Ü–∞ "–ü—Ä–æ–µ–∫—Ç—ã"
const projects = await tablesService.createTable({
  name: "–ü—Ä–æ–µ–∫—Ç—ã",
  description: "–ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã"
});

await tablesService.addColumn(projects.id, {
  name: "–ù–∞–∑–≤–∞–Ω–∏–µ",
  type: "text",
  order: 0
});

await tablesService.addColumn(projects.id, {
  name: "–°—Ç–∞—Ç—É—Å",
  type: "multiselect",
  order: 1,
  options: { choices: ["–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "–í —Ä–∞–±–æ—Ç–µ", "–ó–∞–≤–µ—Ä—à–µ–Ω"] }
});

// –¢–∞–±–ª–∏—Ü–∞ "–ó–∞–¥–∞—á–∏"
const tasks = await tablesService.createTable({
  name: "–ó–∞–¥–∞—á–∏",
  description: "–ó–∞–¥–∞—á–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º"
});

await tablesService.addColumn(tasks.id, {
  name: "–ù–∞–∑–≤–∞–Ω–∏–µ",
  type: "text",
  order: 0
});

await tablesService.addColumn(tasks.id, {
  name: "–ü—Ä–æ–µ–∫—Ç",
  type: "relation",
  order: 1,
  options: {
    relatedTableId: projects.id,
    relatedColumnId: 1
  }
});

await tablesService.addColumn(tasks.id, {
  name: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç",
  type: "number",
  order: 2
});

await tablesService.addColumn(tasks.id, {
  name: "–°—Ç–∞—Ç—É—Å",
  type: "multiselect",
  order: 3,
  options: { choices: ["To Do", "In Progress", "Review", "Done"] }
});
```

#### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ –ø—Ä–æ–µ–∫—Ç—É

```javascript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å ID = 5
const tasks = await api.get(`/tables/${tasks.id}/rows?relation_2=5`);

// –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º > 5
const highPriority = tasks.filter(task => {
  const priority = cellValues.find(
    cell => cell.row_id === task.id && cell.column_id === 3
  )?.value;
  return parseInt(priority) > 5;
});
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è AES-256**:

```javascript
// –®–∏—Ñ—Ä—É—é—Ç—Å—è:
name_encrypted          // –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
description_encrypted   // –û–ø–∏—Å–∞–Ω–∏–µ
value_encrypted         // –ó–Ω–∞—á–µ–Ω–∏—è —è—á–µ–µ–∫
placeholder_encrypted   // –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã

// –ù–ï —à–∏—Ñ—Ä—É—é—Ç—Å—è (–¥–ª—è –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏):
placeholder             // –ù–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä
options                 // JSONB –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
order                   // –ü–æ—Ä—è–¥–æ–∫
```

**–§—É–Ω–∫—Ü–∏–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –≤ PostgreSQL**:

```sql
-- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
encrypt_text(plain_text, encryption_key)

-- –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞
decrypt_text(encrypted_text, encryption_key)

-- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
INSERT INTO user_tables (name_encrypted) 
VALUES (encrypt_text('–ö–æ–Ω—Ç–∞–∫—Ç—ã', $1));

SELECT decrypt_text(name_encrypted, $1) as name 
FROM user_tables;
```

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

```javascript
// –ü—Ä–æ—Å–º–æ—Ç—Ä: –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
GET /tables
GET /tables/:id
GET /tables/:id/rows

// –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø—Ä–∞–≤–∞–º–∏
if (!canEditData) {
  return res.status(403).json({ error: '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω' });
}
POST /tables/:id/columns
POST /tables/:id/rows
POST /tables/cell
PATCH /tables/column/:columnId

// –£–¥–∞–ª–µ–Ω–∏–µ: —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
if (!req.session.userAccessLevel?.hasAccess) {
  return res.status(403).json({ error: '–¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤' });
}
DELETE /tables/:id
DELETE /tables/column/:columnId
DELETE /tables/row/:rowId
POST /tables/:id/rebuild-index
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω—ã

```javascript
// Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–æ–≤
const address = req.session.address;
const dleContract = new ethers.Contract(dleAddress, dleAbi, provider);
const balance = await dleContract.balanceOf(address);

if (balance === 0n) {
  return res.status(403).json({ 
    error: '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω: –Ω–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤' 
  });
}

// –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞
const accessLevel = determineAccessLevel(balance);
req.session.userAccessLevel = accessLevel;
```

### –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**:

```javascript
// ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
await db.getQuery()(
  'SELECT * FROM user_tables WHERE id = $1',
  [tableId]
);

// ‚ùå –û–ü–ê–°–ù–û (–∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è)
await db.getQuery()(
  `SELECT * FROM user_tables WHERE id = ${tableId}`
);
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
if (typeof name !== 'string') {
  return res.status(400).json({ error: 'Invalid name' });
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
const exists = await db.getQuery()(
  'SELECT id FROM user_tables WHERE id = $1',
  [tableId]
);
if (!exists.rows[0]) {
  return res.status(404).json({ error: 'Table not found' });
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (placeholder)
const duplicate = await db.getQuery()(
  'SELECT id FROM user_columns WHERE placeholder = $1 AND id != $2',
  [placeholder, columnId]
);
if (duplicate.rows.length > 0) {
  placeholder = generateUniquePlaceholder();
}
```

### –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–∑–∞—â–∏—Ç–∞ –æ—Ç orphaned data)

```sql
-- –í—Å–µ —Å–≤—è–∑–∏ —Å ON DELETE CASCADE
CREATE TABLE user_columns (
  table_id INTEGER NOT NULL 
    REFERENCES user_tables(id) ON DELETE CASCADE
);

CREATE TABLE user_rows (
  table_id INTEGER NOT NULL 
    REFERENCES user_tables(id) ON DELETE CASCADE
);

CREATE TABLE user_cell_values (
  row_id INTEGER NOT NULL 
    REFERENCES user_rows(id) ON DELETE CASCADE,
  column_id INTEGER NOT NULL 
    REFERENCES user_columns(id) ON DELETE CASCADE
);

-- –†–µ–∑—É–ª—å—Ç–∞—Ç: —É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –í–°–Å
```

### Rate Limiting

```javascript
// –í backend/routes/tables.js –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
const rateLimit = require('express-rate-limit');

const tablesLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,  // 15 –º–∏–Ω—É—Ç
  max: 100,                   // 100 –∑–∞–ø—Ä–æ—Å–æ–≤
  message: '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Ç–∞–±–ª–∏—Ü–∞–º'
});

router.use(tablesLimiter);
```

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### 1. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

```javascript
// –í–º–µ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
const tableMeta = await db.query('SELECT ...');
const columns = await db.query('SELECT ...');
const rows = await db.query('SELECT ...');
const cellValues = await db.query('SELECT ...');

// –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ:
const [tableMeta, columns, rows, cellValues] = await Promise.all([
  db.query('SELECT ...'),
  db.query('SELECT ...'),
  db.query('SELECT ...'),
  db.query('SELECT ...')
]);

// –£—Å–∫–æ—Ä–µ–Ω–∏–µ: 4x
```

#### 2. –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ —Å–≤—è–∑—è—Ö

```sql
CREATE INDEX idx_user_table_relations_from_row 
  ON user_table_relations(from_row_id);
  
CREATE INDEX idx_user_table_relations_to_table 
  ON user_table_relations(to_table_id);
  
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: –±—ã—Å—Ç—Ä–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–≤—è–∑—è–º
```

#### 3. UNIQUE constraint

```sql
CREATE TABLE user_cell_values (
  ...
  UNIQUE(row_id, column_id)
);

-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
-- 1. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã —è—á–µ–µ–∫
-- 2. –£—Å–∫–æ—Ä—è–µ—Ç upsert (ON CONFLICT)
-- 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω–¥–µ–∫—Å
```

#### 4. WebSocket –≤–º–µ—Å—Ç–æ polling

```javascript
// ‚ùå Polling (–º–µ–¥–ª–µ–Ω–Ω–æ)
setInterval(async () => {
  const data = await fetchTableData();
  updateUI(data);
}, 5000);

// ‚úÖ WebSocket (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
socket.on('table-update', (data) => {
  if (data.tableId === currentTableId) {
    updateUI(data);
  }
});

// –†–µ–∑—É–ª—å—Ç–∞—Ç: real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –Ω–µ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```

#### 5. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
// Backend –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö —Ç–∞–±–ª–∏—Ü
const NodeCache = require('node-cache');
const tableCache = new NodeCache({ stdTTL: 300 }); // 5 –º–∏–Ω—É—Ç

router.get('/:id', async (req, res) => {
  const cacheKey = `table_${req.params.id}`;
  const cached = tableCache.get(cacheKey);
  
  if (cached) {
    return res.json(cached);
  }
  
  const data = await fetchTableData(req.params.id);
  tableCache.set(cacheKey, data);
  res.json(data);
});
```

### –ú–µ—Ç—Ä–∏–∫–∏

**–¢–∏–ø–∏—á–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**:
```
GET /tables           ‚Üí 50-100ms   (–≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã)
GET /tables/:id       ‚Üí 150-300ms  (—Å –¥–∞–Ω–Ω—ã–º–∏, Promise.all)
POST /tables/cell     ‚Üí 100-200ms  (upsert + vector update)
DELETE /tables/row/:id ‚Üí 200-400ms (—É–¥–∞–ª–µ–Ω–∏–µ + rebuild vector)
POST /tables/:id/rebuild-index ‚Üí 1-5s (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞)
```

**–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Ç–∞–±–ª–∏—Ü**:
```
–°—Ç—Ä–æ–∫: –¥–æ 10,000    ‚Üí –û—Ç–ª–∏—á–Ω–æ
–°—Ç—Ä–æ–∫: 10,000-50,000 ‚Üí –•–æ—Ä–æ—à–æ
–°—Ç—Ä–æ–∫: >50,000       ‚Üí –ù—É–∂–Ω—ã –¥–æ–ø. –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (pagination, lazy load)
```

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ù–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏**: –í—Å–µ —Å—Ç—Ä–æ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É
   - –î–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü (>1000 —Å—Ç—Ä–æ–∫) –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ

2. **–ù–µ—Ç —Ñ–æ—Ä–º—É–ª**: –ù–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è
   - Workaround: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å lookup

3. **–ù–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏**: –ù–µ–ª—å–∑—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏
   - Workaround: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ frontend

4. **–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π**: –ù–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è, –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–∏–ª
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å audit trail

5. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ order –ø–æ–ª–µ
   - –ù–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º –Ω–∞ backend

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

```javascript
// 1. –ü–∞–≥–∏–Ω–∞—Ü–∏—è
GET /tables/:id/rows?page=1&limit=50

// 2. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
GET /tables/:id/rows?sort_by=column_id&order=asc

// 3. –§–æ—Ä–º—É–ª—ã
{
  "type": "formula",
  "options": {
    "formula": "{{price}} * {{quantity}}"
  }
}

// 4. –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
CREATE TABLE user_cell_history (
  id SERIAL PRIMARY KEY,
  cell_id INTEGER REFERENCES user_cell_values(id),
  old_value TEXT,
  new_value TEXT,
  changed_by INTEGER,
  changed_at TIMESTAMP
);

// 5. –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç
POST /tables/:id/export ‚Üí CSV/Excel
POST /tables/:id/import ‚Üê CSV/Excel

// 6. –®–∞–±–ª–æ–Ω—ã —Ç–∞–±–ª–∏—Ü
POST /tables/templates/crm ‚Üí –°–æ–∑–¥–∞—Ç—å CRM –∏–∑ —à–∞–±–ª–æ–Ω–∞
POST /tables/templates/tasks ‚Üí –°–æ–∑–¥–∞—Ç—å Kanban –∏–∑ —à–∞–±–ª–æ–Ω–∞
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –≤ DLE ‚Äî —ç—Ç–æ **–º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Å:

‚úÖ **–ì–∏–±–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π** (6 —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π)  
‚úÖ **–°–≤—è–∑—è–º–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏** (relation, lookup)  
‚úÖ **AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π** (RAG, –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫)  
‚úÖ **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏** (WebSocket)  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é** (AES-256, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞)  
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é** (–∏–Ω–¥–µ–∫—Å—ã, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)  

–≠—Ç–æ **–Ω–µ –ø—Ä–æ—Å—Ç–æ Excel**, –∞ **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** —Å —É–¥–æ–±–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º!

---

**¬© 2024-2025 –¢–∞—Ä–∞–±–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.**

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: October 25, 2025  
**–°—Ç–∞—Ç—É—Å**: –í—Ä–µ–º–µ–Ω–Ω—ã–π (–¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

