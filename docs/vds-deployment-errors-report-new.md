# –û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è VDS - –ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è

**–î–∞—Ç–∞:** 3 –æ–∫—Ç—è–±—Ä—è 2025  
**–í—Ä–µ–º—è:** 15:11 UTC  
**VDS IP:** 185.221.214.140  
**–î–æ–º–µ–Ω:** hb3-accelerator.com  

## üéØ –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:
1. **SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
2. **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** - –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã** - ubuntu, docker —Å SSH –∫–ª—é—á–∞–º–∏
4. **Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** - –≤–µ—Ä—Å–∏—è 28.5.0
5. **Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** - –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è
6. **fail2ban –Ω–∞—Å—Ç—Ä–æ–µ–Ω** - —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏ (maxretry=50, findtime=3600)
7. **SSH –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø–∞—Ä–æ–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞
8. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** - docker-compose.prod.yml –∏ .env –ø–µ—Ä–µ–¥–∞–Ω—ã
9. **Docker –æ–±—Ä–∞–∑—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã** - –≤—Å–µ 7 –æ–±—Ä–∞–∑–æ–≤ (–æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä ~3GB)
10. **Docker volumes —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã** - postgres_data, ollama_data, vector_search_data
11. **–ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö** - –∞—Ä—Ö–∏–≤ 8.5GB —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω –Ω–∞ VDS
12. **–ò–º–ø–æ—Ä—Ç –æ–±—Ä–∞–∑–æ–≤** - –≤—Å–µ Docker –æ–±—Ä–∞–∑—ã —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã
13. **–ò–º–ø–æ—Ä—Ç volumes** - –≤—Å–µ volumes —Å–æ–∑–¥–∞–Ω—ã –∏ –¥–∞–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã
14. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** - —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω
15. **PostgreSQL –∑–∞–ø—É—â–µ–Ω** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### ‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:

## **–û—à–∏–±–∫–∞ 1: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω Docker volumes**

**–û–ø–∏—Å–∞–Ω–∏–µ:** PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π volume –¥–ª—è –¥–∞–Ω–Ω—ã—Ö

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞, –Ω–æ –ø—É—Å—Ç–∞—è
- –ö–æ–º–∞–Ω–¥–∞ `\dt` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "Did not find any relations"
- –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –¥–≤–∞ volume: `dapp_postgres_data` –∏ `postgres_data`

**–ü—Ä–∏—á–∏–Ω–∞:**
- –°—Ç–∞—Ä—ã–π volume `dapp_postgres_data` (—Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –ø—Ä–æ–µ–∫—Ç–∞) —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ
- –ù–æ–≤—ã–π volume `postgres_data` (—Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç–æ–º –∏–º–ø–æ—Ä—Ç–∞) –ø—É—Å—Ç–æ–π
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä PostgreSQL –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –ø—É—Å—Ç–æ–π volume

**–õ–æ–≥–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ volumes
docker volume ls | grep postgres
# –†–µ–∑—É–ª—å—Ç–∞—Ç:
local     dapp_postgres_data  # ‚Üê —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ
local     postgres_data       # ‚Üê –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
psql -U dapp_user -d dapp_db -c "\dt"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: Did not find any relations
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å `docker-compose.prod.yml`** - –∏–∑–º–µ–Ω–∏—Ç—å `source: postgres_data` –Ω–∞ `source: dapp_postgres_data`
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** - —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π volume

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```bash
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é docker-compose
cd /home/docker/dapp
sed -i 's/source: postgres_data/source: dapp_postgres_data/g' docker-compose.prod.yml

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
sudo docker compose -f docker-compose.prod.yml restart postgres

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
sudo docker compose -f docker-compose.prod.yml exec -T postgres psql -U dapp_user -d dapp_db -c "\dt"
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –ø–µ—Ä–≤–æ–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
sudo docker compose -f docker-compose.prod.yml stop postgres

# –£–¥–∞–ª–∏—Ç—å –ø—É—Å—Ç–æ–π volume
sudo docker volume rm postgres_data

# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å volume —Å –¥–∞–Ω–Ω—ã–º–∏
sudo docker volume create postgres_data
sudo docker run --rm -v dapp_postgres_data:/source -v postgres_data:/target alpine sh -c "cp -r /source/* /target/"

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π volume
sudo docker volume rm dapp_postgres_data

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
sudo docker compose -f docker-compose.prod.yml start postgres
```

**–°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –≤ –∫–æ–¥–µ –∞–≥–µ–Ω—Ç–∞
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `docker-compose.prod.yml` –Ω–∞ —Ç–µ–∫—É—â–µ–π VDS
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ postgres –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## **–û—à–∏–±–∫–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö PostgreSQL**

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ PostgreSQL –Ω–µ –±—ã–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ –∞—Ä—Ö–∏–≤–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞, –Ω–æ –ø—É—Å—Ç–∞—è
- –ö–æ–º–∞–Ω–¥–∞ `\dt` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "Did not find any relations"
- Volume —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã PostgreSQL –±–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü

**–ü—Ä–∏—á–∏–Ω–∞:**
- –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ —Å–æ–∑–¥–∞–ª volumes —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
- –ù–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—ã–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω—ã –∏–∑ –∞—Ä—Ö–∏–≤–∞ `postgres_data.tar.gz`
- Volume —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—É—Å—Ç—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –±–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–õ–æ–≥–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ volume
sudo docker run --rm -v postgres_data:/data alpine ls -la /data
# –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã PostgreSQL (PG_VERSION, base/, global/, etc.)
# –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã–µ

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
psql -U dapp_user -d dapp_db -c "\dt"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: Did not find any relations
```

**–ê–Ω–∞–ª–∏–∑:**
1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ volume –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞** - —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã PostgreSQL
2. **–î–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç** - –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü (email_settings, db_settings, session)
3. **–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∏–º–ø–æ—Ä—Ç–µ** - –∞—Ä—Ö–∏–≤ `postgres_data.tar.gz` –Ω–µ —Å–æ–¥–µ—Ä–∂–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –±—ã–ª –ø–æ–≤—Ä–µ–∂–¥–µ–Ω

---

## **–û—à–∏–±–∫–∞ 3: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ crontab –Ω–∞ VDS**

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–º–∞–Ω–¥–∞ crontab –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –Ω–∞ VDS —Å–µ—Ä–≤–µ—Ä–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
```
sudo: crontab: command not found
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–∞–∫–µ—Ç cron –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º Ubuntu —Å–µ—Ä–≤–µ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å cron –ø–∞–∫–µ—Ç
```bash
sudo apt-get update
sudo apt-get install -y cron
```

## **–û—à–∏–±–∫–∞ 4: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è frontend-nginx**

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–≥–µ–Ω—Ç –Ω–µ —Å–æ–∑–¥–∞–ª SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è –¥–æ–º–µ–Ω–∞ hb3-accelerator.com

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä frontend-nginx –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è
- –û—à–∏–±–∫–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: `error mounting "/home/docker/dapp/ssl" to rootfs at "/etc/ssl/certs/fallback": create mountpoint for /etc/ssl/certs/fallback mount: mkdirat`
- –°–∞–π—Ç hb3-accelerator.com –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (ERR_CONNECTION_CLOSED)

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ê–≥–µ–Ω—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª —ç—Ç–∞–ø —Å–æ–∑–¥–∞–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ Certbot
- –ê–≥–µ–Ω—Ç –Ω–µ —Å–æ–∑–¥–∞–ª –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: `/etc/letsencrypt/live/hb3-accelerator.com/` –∏ `/var/www/certbot`
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä frontend-nginx —Ç—Ä–µ–±—É–µ—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

**–õ–æ–≥–∏:**
```
Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: error during container init: error mounting "/home/docker/dapp/ssl" to rootfs at "/etc/ssl/certs/fallback": create mountpoint for /etc/ssl/certs/fallback mount: mkdirat /var/lib/docker/overlay2/.../merged/etc/ssl/certs/fallback: read-only file system: unknown
```

---

## **–û—à–∏–±–∫–∞ 5: –û—à–∏–±–∫–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ frontend-nginx**

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä frontend-nginx –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä frontend-nginx –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –û—à–∏–±–∫–∞: `error mounting "/home/docker/dapp/ssl" to rootfs at "/etc/ssl/certs/fallback": create mountpoint for /etc/ssl/certs/fallback mount: mkdirat ... read-only file system: unknown`
- –°–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω hb3-accelerator.com

**–ü—Ä–∏—á–∏–Ω–∞:**
- Docker –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å mountpoint `/etc/ssl/certs/fallback` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ read-only –≤ —Ç–æ—á–∫–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose —Ç—Ä–µ–±—É–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

---

## **–û—à–∏–±–∫–∞ 6: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –≤ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ**

**–û–ø–∏—Å–∞–Ω–∏–µ:** Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ 401 (Unauthorized) –ø—Ä–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û—à–∏–±–∫–∞ `pg_base64_decode` –≤ PostgreSQL —Ñ—É–Ω–∫—Ü–∏–∏ `encrypt_text`
- Nonce –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –§—É–Ω–∫—Ü–∏—è `encrypt_text` –ø–∞–¥–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–µ 6

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è `encryption.key` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/app/ssl/keys/` –≤–Ω—É—Ç—Ä–∏ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/home/docker/dapp/ssl/keys/` –Ω–∞ VDS –ø—É—Å—Ç–∞—è
- **–ê–≥–µ–Ω—Ç –∏—â–µ—Ç –∫–ª—é—á –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ**: `/app/ssl/keys/full_db_encryption.key` (–ø—É—Ç—å –≤–Ω—É—Ç—Ä–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
- **–ö–ª—é—á —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ**: `/home/alex/Digital_Legal_Entity(DLE)/ssl/keys/full_db_encryption.key`
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç `/vds/transfer-encryption-key` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è**, –ø–æ—Ç–æ–º—É —á—Ç–æ –∞–≥–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –∫–ª—é—á –ª–æ–∫–∞–ª—å–Ω–æ

**–õ–æ–≥–∏:**
```bash
# Backend –æ—à–∏–±–∫–∏
dapp-backend | error: [verify] Nonce not found for address: 0x15a4ed4759e5762174b300a4cf51cc17ad967f4d
dapp-backend | warn: Nonce f303278b09e09c5e2ccbbe4a85f10f8f generated for address 0x15A4ed4759e5762174b300a4Cf51cc17ad967f4d but not saved to DB due to error

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞ –Ω–∞ VDS
ls -la /home/docker/dapp/ssl/keys/
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞—è, –Ω–µ—Ç encryption.key

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker compose exec backend ls -la /app/ssl/keys/
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞—è, –Ω–µ—Ç encryption.key
```

**–ê–Ω–∞–ª–∏–∑:**
1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞** - –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–ü—Ä–æ–±–ª–µ–º–∞ –ø–µ—Ä–µ–¥–∞—á–∏** - –∞–≥–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ–¥–∞–ª –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ VDS
3. **–í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –±–µ–∑ –∫–ª—é—á–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—É—Ç—å –∫ –∫–ª—é—á—É –≤ –∞–≥–µ–Ω—Ç–µ** - –∏–∑–º–µ–Ω–∏—Ç—å `/app/ssl/keys/full_db_encryption.key` –Ω–∞ `/home/alex/Digital_Legal_Entity(DLE)/ssl/keys/full_db_encryption.key`
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≥–µ–Ω—Ç** —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –∫–æ–¥–æ–º
3. **–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** –∏–ª–∏ –≤—ã–∑–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç `/vds/transfer-encryption-key` –≤—Ä—É—á–Ω—É—é
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** –∫ —Ñ–∞–π–ª—É –∫–ª—é—á–∞
5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** –ø–æ—Å–ª–µ –ø–µ—Ä–µ–¥–∞—á–∏ –∫–ª—é—á–∞

**–°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ü—É—Ç—å –∫ –∫–ª—é—á—É –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –≤ –∫–æ–¥–µ –∞–≥–µ–Ω—Ç–∞
- ‚úÖ –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥–∞–Ω –Ω–∞ VDS —á–µ—Ä–µ–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç `/vds/transfer-encryption-key`
- ‚úÖ –ö–ª—é—á –¥–æ—Å—Ç—É–ø–µ–Ω –≤ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (`/app/ssl/keys/full_db_encryption.key`)
- ‚úÖ Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –∏ –∑–∞–≥—Ä—É–∑–∏–ª –∫–ª—é—á (–ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "üîç –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è: —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
- ‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å

## **–û—à–∏–±–∫–∞ 7: –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ —Å–µ—Å—Å–∏—é**

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –æ—Å—Ç–∞—é—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- API `/auth/verify` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 200 (—É—Å–ø–µ—Ö)
- –ù–æ `/auth/check` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `authenticated: false`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º
- –°–µ—Å—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è, –Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–æ–ª—å–∫–æ cookie –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∏ –≤ `/auth/verify` –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å–µ—Å—Å–∏—é
- –°–µ—Å—Å–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ cookie –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é: `{"cookie":{"originalMaxAge":2592000000,"expires":"2025-11-02T15:14:50.136Z","secure":true,"httpOnly":true,"path":"/","sameSite":"lax"}}`
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–∞–Ω–Ω—ã–µ: `userId`, `address`, `authType`, `telegramId` –∏ —Ç.–¥.
- **–ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ CORS** - –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã, –Ω–æ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- **–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ backend** - –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–µ—Å—Å–∏—é –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–õ–æ–≥–∏:**
```bash
# Frontend –ª–æ–≥–∏
GET /auth/nonce - status 200 ‚úÖ
POST /auth/verify - status 200 ‚úÖ  
GET /auth/check - status 200, –Ω–æ authenticated: false ‚ùå

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
SELECT sess FROM session WHERE sid = 'w-haDJd23ON18WPF5NaDUP2wB00rqQW4';
# –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ç–æ–ª—å–∫–æ cookie –¥–∞–Ω–Ω—ã–µ, –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT COUNT(*) FROM user_identities; -- 27 –∑–∞–ø–∏—Å–µ–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
```

**–ê–Ω–∞–ª–∏–∑:**
1. **–ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏ —É—Å–ø–µ—à–Ω–∞
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - 27 –∑–∞–ø–∏—Å–µ–π –≤ user_identities
3. **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω** - –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã, –Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è
4. **–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ backend** - –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–µ—Å—Å–∏—é –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
5. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞** - –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. **‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –∞–≥–µ–Ω—Ç–µ** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤ nginx –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π
2. **‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ backend** - –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ —Å–µ—Å—Å–∏—é:
   - `req.session.userId = user.id`
   - `req.session.address = address`
   - `req.session.authType = 'wallet'`

**–°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ nginx –Ω–∞ VDS
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∞–≥–µ–Ω—Ç –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π
- ‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Å—Å–∏–∏:
  - `resave: true` (–≤–º–µ—Å—Ç–æ `false`)
  - `saveUninitialized: false` (–≤–º–µ—Å—Ç–æ `true`)
  - `secure: false` (–≤–º–µ—Å—Ç–æ `process.env.NODE_ENV === 'production'`)
- ‚úÖ **–ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø –†–ê–ë–û–¢–ê–ï–¢** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏

## **–û—à–∏–±–∫–∞ 8: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ UFW –Ω–∞ VDS**

**–û–ø–∏—Å–∞–Ω–∏–µ:** Firewall UFW –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ VDS —Å–µ—Ä–≤–µ—Ä–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
```
sudo: ufw: command not found
```

**–ü—Ä–∏—á–∏–Ω–∞:** UFW –Ω–µ –≤–∫–ª—é—á–µ–Ω –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É Ubuntu

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å UFW –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å iptables
```bash
sudo apt-get install -y ufw
```

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):
1. **–ü–µ—Ä–µ–¥–∞—Ç—å –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è** - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö PostgreSQL** - –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—ã–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ –∞—Ä—Ö–∏–≤–∞
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∞—Ä—Ö–∏–≤–∞** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∞—Ä—Ö–∏–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):
4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å cron** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è SSL
5. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å UFW** - –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
6. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞** - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è volumes
7. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** - –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ —ç—Ç–∞–ø–æ–≤:** 20
- **–£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:** 15 (75%)
- **–û—à–∏–±–∫–∏:** 7 (35%)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:** 5 (25%)
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~45 –º–∏–Ω—É—Ç
- **–†–∞–∑–º–µ—Ä –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:** 8.5GB

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ VDS –ø—Ä–æ—à–ª–æ **—É—Å–ø–µ—à–Ω–æ –Ω–∞ 75%**. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç:
- ‚úÖ Docker –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã
- ‚úÖ –°–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚ùå **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è volume**

**–ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –î–∞–Ω–Ω—ã–µ PostgreSQL –Ω–µ –±—ã–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ –∞—Ä—Ö–∏–≤–∞. Volume —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã PostgreSQL –±–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü.

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:** –ê—Ä—Ö–∏–≤ `postgres_data.tar.gz` –Ω–µ —Å–æ–¥–µ—Ä–∂–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –±—ã–ª –ø–æ–≤—Ä–µ–∂–¥–µ–Ω –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ/–∏–º–ø–æ—Ä—Ç–µ.
