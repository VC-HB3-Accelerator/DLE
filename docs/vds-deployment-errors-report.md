# –û—Ç—á–µ—Ç –ø–æ –æ—à–∏–±–∫–∞–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ VDS

## üìã –û–±–∑–æ—Ä

–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Digital Legal Entity –Ω–∞ VDS —Å–µ—Ä–≤–µ—Ä–µ `185.221.214.140`.

## üö® –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. HTTP ERROR 503 - Service Unavailable

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ `http://185.221.214.140` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ 503.

**–î–µ—Ç–∞–ª–∏:**
- –°–∏—Å—Ç–µ–º–Ω—ã–π nginx —É–∂–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 80/443
- –ù–∞—à `dapp-frontend-nginx` –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–Ω—è—Ç—å —Ç–µ –∂–µ –ø–æ—Ä—Ç—ã
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è, –Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ

**–õ–æ–≥–∏ –æ—à–∏–±–æ–∫:**
```
Error response from daemon: failed to set up container networking: 
driver failed programming external connectivity on endpoint dapp-frontend-nginx: 
failed to bind host port for 0.0.0.0:80:172.18.0.7:80/tcp: address already in use
```

### 2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ nginx

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–≤–∞ nginx —Å–µ—Ä–≤–µ—Ä–∞ –ø—ã—Ç–∞—é—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–∏ –ø–æ—Ä—Ç—ã.

**–°–∏—Å—Ç–µ–º–Ω—ã–π nginx:**
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ Linux
- –ó–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Ä—Ç—ã 80 (HTTP) –∏ 443 (HTTPS)
- –°—Ç–∞—Ç—É—Å: `nginx: master process`

**–ù–∞—à frontend-nginx:**
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `dapp-frontend-nginx`
- –ü—ã—Ç–∞–µ—Ç—Å—è –∑–∞–Ω—è—Ç—å –ø–æ—Ä—Ç—ã 80/443
- –°—Ç–∞—Ç—É—Å: –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è

### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å health checks

**Vector Search –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
- –°—Ç–∞—Ç—É—Å: `unhealthy`
- –ü—Ä–∏—á–∏–Ω–∞: health check endpoint –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –í–ª–∏—è–Ω–∏–µ: –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ –∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
- –°—Ç–∞—Ç—É—Å: `health: starting`
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç vector-search
- –ù–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑-–∑–∞ failed dependencies

### 4. –û—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

**Frontend-nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
- –°—Ç–∞—Ç—É—Å: `Restarting (1)`
- –û—à–∏–±–∫–∞: `invalid number of arguments in "server_name" directive in /etc/nginx/nginx.conf:37`
- –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–õ–æ–≥–∏ –æ—à–∏–±–æ–∫:**
```
2025/10/03 06:02:15 [emerg] 1#1: invalid number of arguments in "server_name" directive in /etc/nginx/nginx.conf:37
nginx: [emerg] invalid number of arguments in "server_name" directive in /etc/nginx/nginx.conf:37
```

### 5. –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º nginx

**–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞:**
- –ö–æ–º–∞–Ω–¥–∞: `systemctl restart nginx`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `Job for nginx.service failed because the control process exited with error code`

**–õ–æ–≥–∏ –æ—à–∏–±–æ–∫:**
```
nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)
nginx: [emerg] bind() to 0.0.0.0:443 failed (98: Address already in use)
nginx: [emerg] still could not bind()
```

### 6. –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
- –û—à–∏–±–∫–∞: `SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string`
- –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–æ–ª—è –¥–ª—è PostgreSQL
- –í–ª–∏—è–Ω–∏–µ: backend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–õ–æ–≥–∏ –æ—à–∏–±–æ–∫:**
```
–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: Error: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string
    at /app/node_modules/pg-pool/index.js:45:11
```

### 7. –û—à–∏–±–∫–∏ YAML —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ docker-compose.yml

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ docker-compose.yml

**–û—à–∏–±–∫–∏:**
```
yaml: line 20: did not find expected '-' indicator
yaml: line 20: did not find expected key
```

**–ü—Ä–∏—á–∏–Ω–∞:** –°–º–µ—à–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- –í —Å–µ–∫—Ü–∏–∏ postgres: `- KEY=value` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –í —Å–µ–∫—Ü–∏–∏ backend: `- KEY=value` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è backend)

### 8. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
- –û—à–∏–±–∫–∞: `relation "email_settings" does not exist`
- –û—à–∏–±–∫–∞: `relation "db_settings" does not exist`
- –û—à–∏–±–∫–∞: `relation "session" does not exist`

**–õ–æ–≥–∏ –æ—à–∏–±–æ–∫:**
```
error: Unhandled Rejection: relation "email_settings" does not exist {"code":"42P01"}
error: [DatabaseConnectionManager] –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: relation "db_settings" does not exist {"code":"42P01"}
error: Unhandled Rejection: relation "session" does not exist {"code":"42P01"}
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
```
docker exec dapp-postgres psql -U dapp_user -d dapp_db -c '\dt'
Did not find any relations.
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—É—Å—Ç–∞—è - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ö–µ–º–∞ –∏ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã

**–í–ª–∏—è–Ω–∏–µ:** Backend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è, API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### 9. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–±—Ä–æ—Å–æ–º –ø–æ—Ä—Ç–æ–≤

**Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
- –ü–æ—Ä—Ç 5173 –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞—Ä—É–∂—É
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω, –Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ
- –°—Ç–∞—Ç—É—Å: `Up (health: starting)`

**Frontend-nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
- –ü–æ—Ä—Ç 9000 –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞—Ä—É–∂—É
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### 10. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env:**
- `DB_NAME`, `DB_USER`, `DB_PASSWORD`
- `NODE_ENV`, `PORT`
- `OLLAMA_MODEL`, `OLLAMA_EMBEDDINGS_MODEL`

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –≤ docker-compose.yml:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç "–¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î"

### 11. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `./backend/scripts/run-migrations.js` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π
- –°–∫—Ä–∏–ø—Ç –∏—â–µ—Ç SQL —Ñ–∞–π–ª—ã –≤ `./backend/db/migrations/`

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```
find ./backend -name "*.sql" -o -name "*schema*" -o -name "*migration*"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ç–æ–ª—å–∫–æ node_modules —Ñ–∞–π–ª—ã, –Ω–µ—Ç SQL –º–∏–≥—Ä–∞—Ü–∏–π
```

**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–í–ª–∏—è–Ω–∏–µ:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–π, backend –Ω–µ –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è

### 12. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

**–°—Ç–∞—Ç—É—Å –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:**
- **–õ–æ–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á:** `MsPbvDsNXra/kqw4XgnaustFDcuuSvZY1TwhYrpxMnE=`
- **–ö–ª—é—á –Ω–∞ VDS:** `MsPbvDsNXra/kqw4XgnaustFDcuuSvZY1TwhYrpxMnE=`
- **–°—Ç–∞—Ç—É—Å:** –ö–ª—é—á–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã, –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

**–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
- –ö–ª—é—á –¥–æ—Å—Ç—É–ø–µ–Ω –≤ `/app/ssl/full_db_encryption.key`
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `-rw------- 1 root root 45`

**–í—ã–≤–æ–¥:** –ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –∫–ª—é—á–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫

### –ü–æ —Ç–∏–ø–∞–º:
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** 4 –æ—à–∏–±–∫–∏ (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º—ã, –º–∏–≥—Ä–∞—Ü–∏–π, —Ç–∞–±–ª–∏—Ü)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx:** 3 –æ—à–∏–±–∫–∏
- **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏:** 2 –æ—à–∏–±–∫–∏
- **Docker Compose:** 2 –æ—à–∏–±–∫–∏
- **Health checks:** 1 –æ—à–∏–±–∫–∞

### –ü–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏:
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ:** 5 –æ—à–∏–±–æ–∫ (–±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- **–°–µ—Ä—å–µ–∑–Ω—ã–µ:** 5 –æ—à–∏–±–æ–∫ (–≤–ª–∏—è—é—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:** 2 –æ—à–∏–±–∫–∏ (–Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

### –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
```
NAMES                 STATUS                             PORTS
dapp-frontend-nginx   Restarting (1) 11 seconds ago      
dapp-frontend         Up 25 seconds (health: starting)   5173/tcp
dapp-backend          Up 12 minutes (unhealthy)          0.0.0.0:8000->8000/tcp
dapp-vector-search    Up 12 minutes (unhealthy)          8001/tcp
dapp-postgres         Up 12 minutes (healthy)            5432/tcp
dapp-ollama           Up 12 minutes (healthy)            11434/tcp
```

### –ó–∞–Ω—è—Ç—ã–µ –ø–æ—Ä—Ç—ã:
```
tcp        0      0 0.0.0.0:443             0.0.0.0:*               LISTEN      12785/nginx: master 
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      12785/nginx: master 
tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      40287/docker-proxy  
```

### –ü—Ä–æ—Ü–µ—Å—Å—ã nginx:
```
root       12785  0.0  0.1  35468  9160 ?        Ss   Oct02   0:00 nginx: master process nginx -c /etc/nginx/nginx.conf
www-data   32875  0.0  0.1  36820 11032 ?        S    05:11   0:00 nginx: worker process
www-data   32876  0.0  0.1  36820 10904 ?        S    05:11   0:00 nginx: worker process
www-data   32877  0.0  0.1  36820 10776 ?        S    05:11   0:00 nginx: worker process
www-data   32878  0.0  0.1  36820 10648 ?        S    05:11   0:00 nginx: worker process
```

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ **20 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫** –ø—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ VDS —Å–µ—Ä–≤–µ—Ä–µ. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–≤—è–∑–∞–Ω—ã —Å:

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** - –±–∞–∑–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—É—Å—Ç–∞—è, –Ω–µ—Ç —Ç–∞–±–ª–∏—Ü –∏ –º–∏–≥—Ä–∞—Ü–∏–π
2. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏ –ø–æ—Ä—Ç–æ–≤** –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–Ω—ã–º –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–º nginx
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π** docker-compose.yml –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. **–ü—Ä–æ–±–ª–µ–º–∞–º–∏ —Å health checks** –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

**–ö–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –î–∞–Ω–Ω—ã–µ PostgreSQL –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ volume —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–∏—Ç–∞–µ—Ç –∏–∑ –ø—É—Å—Ç–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Ö–æ—Ç—è –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å –≤ –¥—Ä—É–≥–æ–º volume.

**–†–ï–®–ï–ù–û:** 
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, —Å–æ–¥–µ—Ä–∂–∏—Ç 37 —Ç–∞–±–ª–∏—Ü
- Backend –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- AI —Å–µ—Ä–≤–∏—Å (Ollama) —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç

**–ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:** –ü–µ—Ä–µ–¥–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –Ω–µ–º.

## Error 13: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∞—Ä—Ö–∏–≤–∞ –¥–∞–Ω–Ω—ã—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∞—Ä—Ö–∏–≤–∞ `docker-images-and-data.tar.gz` –Ω–∞ VDS.

**–î–µ—Ç–∞–ª–∏:**
- –†–∞–∑–º–µ—Ä –∞—Ä—Ö–∏–≤–∞: 8.4GB
- –ö–æ–º–∞–Ω–¥–∞ `tar -tf` –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
- –ü–æ–¥–æ–∑—Ä–µ–Ω–∏–µ –Ω–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `tar -xzf docker-images-and-data.tar.gz -C test-extract/`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –ê—Ä—Ö–∏–≤ —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∞—Ä—Ö–∏–≤–∞:**
- Docker –æ–±—Ä–∞–∑—ã: 7 —Ñ–∞–π–ª–æ–≤ (dapp-backend.tar, dapp-frontend.tar, dapp-frontend-nginx.tar, dapp-ollama.tar, dapp-postgres.tar, dapp-vector-search.tar, dapp-webssh-agent.tar)
- –î–∞–Ω–Ω—ã–µ volumes: 3 —Ñ–∞–π–ª–∞ (ollama_data.tar.gz, postgres_data.tar.gz, vector_search_data.tar.gz)

**–í–ª–∏—è–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ - –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–û - –∞—Ä—Ö–∏–≤ —Ü–µ–ª—ã–π –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ.

## Error 14: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–º–µ–Ω Docker volumes

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ PostgreSQL –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ volume —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º.

**–î–µ—Ç–∞–ª–∏:**
- –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç volume: `digital_legal_entitydle_postgres_data`
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç volume: `dapp_postgres_data`
- –î–∞–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º volume, –Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–∏—Ç–∞–µ—Ç –∏–∑ –ø—É—Å—Ç–æ–≥–æ
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `docker inspect dapp-postgres | grep Mounts`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–Ω—Ç–∏—Ä—É–µ—Ç `dapp_postgres_data`, –∞ –¥–∞–Ω–Ω—ã–µ –≤ `digital_legal_entitydle_postgres_data`

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ volumes:**
- `dapp_postgres_data`: –ø—É—Å—Ç–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã)
- `digital_legal_entitydle_postgres_data`: —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ 1, 4, 5, 16384)

**–í–ª–∏—è–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ - backend –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã, —Ç–∞–∫ –∫–∞–∫ —á–∏—Ç–∞–µ—Ç –∏–∑ –ø—É—Å—Ç–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–û - –¥–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π volume, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —É–¥–∞–ª–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä PostgreSQL
2. –£–¥–∞–ª–µ–Ω –ø—É—Å—Ç–æ–π volume `dapp_postgres_data`
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ `digital_legal_entitydle_postgres_data` –≤ `dapp_postgres_data`
4. –ó–∞–ø—É—â–µ–Ω –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä PostgreSQL —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º volume
5. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `dapp_db` —Å–æ–¥–µ—Ä–∂–∏—Ç 37 —Ç–∞–±–ª–∏—Ü, –≤–∫–ª—é—á–∞—è `email_settings`, `db_settings`, `session`

## Error 15: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö Docker —Å–µ—Ç—è—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ:** Backend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL –∏–∑-–∑–∞ —Ä–∞–∑–Ω—ã—Ö Docker —Å–µ—Ç–µ–π.

**–î–µ—Ç–∞–ª–∏:**
- `dapp-backend` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–µ—Ç–∏ `dapp_default`
- `dapp-postgres` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–µ—Ç–∏ `bridge`
- Backend –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Ö–æ—Å—Ç—É `postgres`, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –µ–≥–æ –Ω–∞–π—Ç–∏
- –û—à–∏–±–∫–∞: `getaddrinfo EAI_AGAIN postgres`

**–í–ª–∏—è–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ - backend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–°—Ç–∞—Ç—É—Å:** üîÑ –í –ü–†–û–¶–ï–°–°–ï - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∫ –æ–¥–Ω–æ–π —Å–µ—Ç–∏.

## Error 16: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Ö–æ—Å—Ç–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û–ø–∏—Å–∞–Ω–∏–µ:** Backend –∏—â–µ—Ç —Ö–æ—Å—Ç `postgres`, –Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `dapp-postgres`.

**–î–µ—Ç–∞–ª–∏:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è: `DB_HOST=postgres`
- –†–µ–∞–ª—å–Ω–æ–µ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `dapp-postgres`
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ `dapp_default`
- –°–µ—Ç–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (ping —É—Å–ø–µ—à–µ–Ω)
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ DNS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ –∏–º–µ–Ω–∏ `postgres`

**–í–ª–∏—è–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ - backend –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ PostgreSQL –ø–æ –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–û - backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `DB_HOST=dapp-postgres`.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —É–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä backend
2. –ó–∞–ø—É—â–µ–Ω –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: API –æ—Ç–≤–µ—á–∞–µ—Ç, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞

## Error 17: –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ base64 –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–î–µ—Ç–∞–ª–∏:**
- –û—à–∏–±–∫–∞: `invalid symbol "-" found while decoding base64 sequence`
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `decrypt_text` PostgreSQL
- –î–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã, –Ω–æ –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç
- –í–ª–∏—è–µ—Ç –Ω–∞ EmailBotService –∏ DbSettingsService

**–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π.

**–°—Ç–∞—Ç—É—Å:** üîÑ –í –ü–†–û–¶–ï–°–°–ï - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.

## Error 18: AI —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–û–ø–∏—Å–∞–Ω–∏–µ:** Ollama —Å–µ—Ä–≤–∏—Å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã.

**–î–µ—Ç–∞–ª–∏:**
- Health check: AI —Å–µ—Ä–≤–∏—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É
- URL: `http://localhost:11434`
- –û—à–∏–±–∫–∞: `fetch failed`
- Vector Search —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ - AI —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–û - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `OLLAMA_BASE_URL=http://ollama:11434`.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ: `ai-assistant.js` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `localhost:11434` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `OLLAMA_BASE_URL=http://ollama:11434`
3. Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
4. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: AI —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç, 1 –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞

## Error 19: –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ base64 –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–î–µ—Ç–∞–ª–∏:**
- –û—à–∏–±–∫–∞: `invalid symbol "-" found while decoding base64 sequence`
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `decrypt_text` PostgreSQL
- –î–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã, –Ω–æ –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç
- –í–ª–∏—è–µ—Ç –Ω–∞ EmailBotService –∏ DbSettingsService

**–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–û - –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ, —á—Ç–æ –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –±—ã–ª —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä backend
2. –ö–ª—é—á –Ω–∞—Ö–æ–¥–∏–ª—Å—è –Ω–∞ —Ö–æ—Å—Ç–µ VDS –≤ `/home/docker/dapp/ssl/keys/full_db_encryption.key`
3. Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º `-v /home/docker/dapp/ssl:/app/ssl`
4. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–ª—é—á –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "üîç –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è: —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"

## Error 20: Frontend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (502 Bad Gateway)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–º–µ–Ω hb3-accelerator.com –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 502 Bad Gateway.

**–î–µ—Ç–∞–ª–∏:**
- Frontend-nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –û—à–∏–±–∫–∞ nginx: `invalid number of arguments in "server_name" directive in /etc/nginx/nginx.conf:37`
- Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ–∑–¥–æ—Ä–æ–≤ (unhealthy)
- –î–∞–Ω–Ω—ã–µ frontend-nginx volumes –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–í–ª–∏—è–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–û - frontend-nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `DOMAIN` –∏ `BACKEND_CONTAINER` –Ω–µ –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏: `DOMAIN=hb3-accelerator.com` –∏ `BACKEND_CONTAINER=dapp-backend`
3. Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
4. Frontend –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 9000: `http://185.221.214.140:9000`

**–¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°:** –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç:
- ‚úÖ Database: OK
- ‚úÖ AI: OK (1 –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞)
- ‚úÖ Vector Search: OK
- ‚úÖ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: OK
- ‚úÖ Frontend: OK (–¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 9000)
- ‚ö†Ô∏è WebSocket: –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –µ—Å—Ç—å, –Ω–æ nginx –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç `/ws`)

## Error 21: WebSocket –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ nginx

**–û–ø–∏—Å–∞–Ω–∏–µ:** Frontend –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ WebSocket, –Ω–æ nginx –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ `/ws` –∫ backend.

**–î–µ—Ç–∞–ª–∏:**
- WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è: `[WebSocket] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ`
- API –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ: –≤—Å–µ `/api/*` –∑–∞–ø—Ä–æ—Å—ã —É—Å–ø–µ—à–Ω—ã
- –ü—Ä–æ–±–ª–µ–º–∞: nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é –¥–ª—è `/ws` endpoint
- –†–µ–∑—É–ª—å—Ç–∞—Ç: frontend –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞

**–õ–æ–≥–∏ frontend:**
```
[WebSocket] –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫: wss://hb3-accelerator.com/ws
[WebSocket] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
üåê [AXIOS] –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å: /api/auth/verify
üåê [AXIOS] –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç: status 200
Auth check response: {authenticated: false, ...}
```

**–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

**–°—Ç–∞—Ç—É—Å:** üîÑ –í –ü–†–û–¶–ï–°–°–ï - —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ WebSocket –≤ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

**–ù–µ–æ–±—Ö–æ–¥–∏–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å –≤ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ–∫—Ü–∏—é:
```nginx
location /ws {
    proxy_pass http://dapp-backend:8000/ws;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}
```

## üìä –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê VDS –°–ï–†–í–ï–†–ê `185.221.214.140`

### üñ•Ô∏è **–°–ò–°–¢–ï–ú–ê:**
- **–û–°:** Ubuntu 24.04.2 LTS (Noble Numbat)
- **–Ø–¥—Ä–æ:** Linux 6.8.0-63-generic
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** x86_64
- **–ü–∞–º—è—Ç—å:** 7.8GB (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 1.6GB, –¥–æ—Å—Ç—É–ø–Ω–æ 6.1GB)
- **–î–∏—Å–∫:** 59GB (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 35GB, –¥–æ—Å—Ç—É–ø–Ω–æ 22GB - 63%)
- **IP:** 185.221.214.140/24

### üîß **–£–°–¢–ê–ù–û–í–õ–ï–ù–ù–´–ï –ü–†–û–ì–†–ê–ú–ú–´:**
- **Docker:** 28.5.0 ‚úÖ
- **Docker Compose:** v2.39.4 ‚úÖ
- **Nginx:** 1.24.0 (Ubuntu) ‚úÖ
- **Node.js:** –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö)
- **SSH:** –ê–∫—Ç–∏–≤–µ–Ω ‚úÖ

### üê≥ **DOCKER –ö–û–ù–¢–ï–ô–ù–ï–†–´ (6 –∏–∑ 6 —Ä–∞–±–æ—Ç–∞—é—Ç):**
- **dapp-frontend-nginx:** Up 4 minutes (–ø–æ—Ä—Ç 9000) ‚úÖ
- **dapp-frontend:** Up 26 minutes ‚úÖ
- **dapp-backend:** Up 37 minutes (–ø–æ—Ä—Ç 8000) ‚úÖ
- **dapp-postgres:** Up About an hour (–ø–æ—Ä—Ç 5432) ‚úÖ
- **dapp-vector-search:** Up 2 hours (unhealthy) ‚ö†Ô∏è
- **dapp-ollama:** Up 2 hours (healthy) ‚úÖ

### üåê **–°–ï–¢–¨ –ò –ü–û–†–¢–´:**
- **–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã:**
  - 80, 443 (—Å–∏—Å—Ç–µ–º–Ω—ã–π nginx)
  - 8000 (backend API)
  - 9000 (frontend nginx)
  - 5432 (PostgreSQL)
- **Docker —Å–µ—Ç–∏:** dapp_default, bridge, host, none
- **Docker volumes:** 10 volumes (–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

### üîí **SSL –ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:**
- **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:** hb3-accelerator.com ‚úÖ
- **Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** 2 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∞–π—Ç–∞
- **SSH –∞—Ç–∞–∫–∏:** –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–æ–ø—ã—Ç–∫–∏ –≤–∑–ª–æ–º–∞ —Å IP 185.91.127.114 ‚ö†Ô∏è

### üìà **–°–¢–ê–¢–£–° –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø:**
- **Frontend:** ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω (https://hb3-accelerator.com)
- **Backend API:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (–ø–æ—Ä—Ç 8000)
- **Database:** ‚úÖ 37 —Ç–∞–±–ª–∏—Ü, –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- **AI —Å–µ—Ä–≤–∏—Å:** ‚úÖ 1 –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞
- **WebSocket:** ‚ö†Ô∏è –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –µ—Å—Ç—å, –Ω–æ nginx –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç `/ws`

### üö® **–ü–†–û–ë–õ–ï–ú–´:**
1. **Vector Search:** unhealthy (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
2. **WebSocket:** –ù—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –≤ nginx
3. **SSH –∞—Ç–∞–∫–∏:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å–∏–ª–∏—Ç—å –∑–∞—â–∏—Ç—É

### ‚úÖ **–í–´–í–û–î:**
VDS —Å–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Digital Legal Entity –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –û—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å WebSocket –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-03  
**–í–µ—Ä—Å–∏—è:** 1.2  
**–°—Ç–∞—Ç—É—Å:** –û—à–∏–±–∫–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ VDS –∑–∞–≤–µ—Ä—à–µ–Ω–∞
